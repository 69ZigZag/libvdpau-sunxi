This is an experimental VDPAU implementation for sunxi SoCs.

Most features of full VDPAU are missing, only decoding of h264, mpeg1 and
mpeg2 and output of software-decoded videos will work.
Output bypasses X video driver, hence don't try to use Xv
at the same time.
Only tested with mplayer, mpv and vdr. If other players need unimplemented functions,
something will fail.

Build it:

   $ make
   $ make install

   $ export VDPAU_DRIVER=sunxi

and then for mplayer:
   $ mplayer -vo vdpau -vc ffmpeg12vdpau,ffh264vdpau, [filename]
or for mpv:
   $ mpv --vo=vdpau --hwdec=vdpau --hwdec-codecs=all [filename]

Note: Make sure that you have write access to both /dev/disp and /dev/cedar_dev

Dependencies:
    - gcc >= 4.6
    - C Smart Pointers library (https://snai.pe/c/c-smart-pointers/
    To build libcsptr from source, e.g. do the following:
        - git clone https://github.com/Snaipe/libcsptr.git
        - cd libcsptr && mkdir build && cd build &&
          cmake -DCMAKE_INSTALL_PREFIX=/usr/local .. && make && make install

To disable OSD support for e.g. subtitles, set VDPAU_OSD environment
variable to 0 (OSD is enabled by default):
   $ export VDPAU_OSD=0

To disable deinterlacer support, set VDPAU_DEINT environment
variable to 0 (Deinterlacer is enabled by default):
   $ export VDPAU_DEINT=0

This partly breaks X11 integration due to hardware limitations. The video
area can't be overlapped by other windows. For fullscreen use this is no
problem.
Note: this needs G2D, so make sure that you have write access to /dev/g2d.
